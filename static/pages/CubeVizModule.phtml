<script type="text/javascript">
    /**
     * CUBEVIZ MODULE
     */
    
	/*************************************
	 * Importing Server-Side System Info *
	 *************************************/
    
    /**
     * Contains loaded configuration for given hashcode
     * default is "default" configuration
     */
    var CubeViz_Links_Module = <?php echo $this->linkConfiguration; ?>;
	
    // Name of choosen config; default is "default"
    CubeViz_Links_Module ["linkCode"] = <?php echo json_encode($this->linkCode); ?>; 
    CubeViz_Links_Module ["backend"] = <?php echo json_encode($this->backend); ?>;
    CubeViz_Links_Module ["cubevizPath"] = <?php echo json_encode($this->cubevizPath); ?>;		
    CubeViz_Links_Module ["modelUrl"] = "<?php echo $this->modelUrl; ?>";		
	CubeViz_Links_Module ["sparqlEndpoint"] = "local"; 
	
    /**
     * Contains system information related only to CubeViz
     */
    var CubeViz_Config = {
        "context": "development"   // possible: development, production
    };
    
    var cubeVizUIChartConfig = <?php echo $this->cubeVizUIChartConfig; ?>;
			
</script>

<script type="text/javascript" src="<?php echo $this->moduleUrl; ?>static/javascript/libraries/json2.js"></script>
<script type="text/javascript" src="<?php echo $this->moduleUrl; ?>static/javascript/libraries/json-template.min.js"></script>
<script type="text/javascript" src="<?php echo $this->moduleUrl; ?>static/javascript/frontend/Cubeviz_Module.js"></script>

<!-- Include index json-templates for instance the dialogs. -->
<?php include ("extensions/cubeviz/static/templates/CubeVizModuleTemplates.phtml"); ?>

<style type="text/css">
	@import url("<?php echo $this->moduleUrl; ?>static/css/main.css");
</style>

<!-- Selection data routine -->

<div id="wrapper"></div>

<div id="sidebar-left">
    <div id="sidebar-left-data-selection">
        
        <!-- -->
        <div id="sidebar-left-loader">
            <div style="margin-top: 50%;">
                <img src="<?php echo $this->moduleUrl; ?>static/images/loader.gif"/>
                Loading ...
            </div>
        </div>
        
		<div id="sidebar-left-data-selection-wrapper">
            
            <br/>
            
            <!-- Select data structure-->
            <div style="margin-top: -8px; clear:both;">
                <div style="float:left; font-size: 12px;"><?php echo $this->_translate->_('Data Structures'); ?></div> 
                <div><select name="datastructures" id="sidebar-left-data-selection-strc"></select></div>
            </div>
            
            <!-- Select data set -->
            <div style="margin-top: 15px; clear:both;">
                <div style="width:110px; float:left; font-size: 12px;"><?php echo $this->_translate->_('Data Sets'); ?></div>
                <div><select name="datasets" id="sidebar-left-data-selection-sets"></select></div>
            </div>
			
            <!-- Visual seperator -->
            <div style="height: 1px; border:0; width:100%; margin-top: 6px; margin-bottom: 6px;"></div>
            
            <div id="sidebar-left-data-selection-dims">
				<div class="cubeViz-h2-light"><?php echo $this->_translate->_('Dimensions'); ?></div>
				<div id="sidebar-left-data-selection-dims-boxes"></div>
			</div>
			<div id="sidebar-left-data-selection-meas" style="display:none;">
				<h3><?php echo $this->_translate->_('Measures'); ?></h3>
				<div id="sidebar-left-data-selection-meas-boxes"></div>
			</div>
            <div style="clear:both;">
                <br/>
                <br/>
                <br/>
				<div style="position:absolute;left:20px;bottom:18px;font-size:11px;">
                    <input type="button" id="permaLinkButton" value="Permalink" class="minibutton submit"/>
                </div>
                <div id="permaLinkMenu" style="display:none;position:absolute;left:23px;bottom:50px;border:1px solid #C2C2C2; padding-left: 3px; padding-right:3px;">
                    <span id="permaLink"></span>
                </div>
				<div style="position:absolute;right:30px;bottom:15px;">
                    <input type="button" value="<?php echo $this->_translate->_('Show Visualization'); ?>" id="sidebar-left-data-selection-submitbtn" class="minibutton submit"/>
                </div>
			</div>
		</div>
	</div>
</div>

<!-- Later on, after all loading is complete, it will contain a dialog instance -->
<div id="dimensionDialogContainer"></div>
