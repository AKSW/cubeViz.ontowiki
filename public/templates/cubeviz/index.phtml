<script type="text/javascript">
    /**
     * Initialize the application
     */
    $(document).ready(function(){
        
        // initialize view manager to handle all the used views
        var cubeVizIndex = new CubeViz_View_Application();
        
        /**
         * Add data to application instance
         */
        cubeVizIndex._ = <?php echo $this->cubeVizConfig; ?>
        
        /**
         * Add views
         */
        cubeVizIndex
            /**
             * These views will added and executed on render() call. (second parameter 
             * causes that)
             */
            .add("View_IndexAction_Header", "", true)
            .add("View_IndexAction_Visualization", "", true)
        
            /**
             * These views will only added but not executed on render() call.
             */
        
            // run all autostart views
            .render();
    });
    
</script>

<h2 id="cubeviz-index-header">
    CubeViz - Visualization of the <?php echo $this->CubeViz_ModelInformation['rdfs:label']; ?>
    &nbsp;
    <img class="cubeviz-icon-small"
          id="cubeviz-index-headerQuestionMarkHeadline" 
          src="<?php echo $this->cubevizImagesPath; ?>i.png" 
          title="<?php echo $this->_translate->_('Click for more information'); ?>"/>
</h2>

<div id="cubeviz-index-visualization"></div>

<div id="chartSelection" scrolling="no"></div>


<!-- 
    Chart Selection menu 
-->
<div id="chartSelectionMenu" lastSelection="0">
    <div id="chartSelectionMenuHeader">
        Configure the visualization
        <img src="<?php echo $this->cubevizImagesPath; ?>grayCross.png" id="chartSelectionMenuCloseCross"/>
    </div>
    <div id="chartSelectionMenuContent"></div>
</div>
<img id="chartSelectionMenuDongle" title="Click to open the menu"/>

<!-- 
    
-->
<div id="cubeviz-visualization-nothingFoundNotificationContainer">
    
    <div id="cubeviz-Index-NothingFoundBox">
        
        <div align="center">
        
            <div id="cubeviz-Index-NothingFoundNotification">
                No data fits to your selection, please adapt your selection in the left sidebar manually.
                <br/>
                <br/>
                
                <div id="cubeviz-Index-NothingFoundNotificationLink">
                    <img src="<?php echo $this->cubevizImagesPath; ?>arrow-down.png" class="cubeviz-icon-micro" id="cubeviz-Index-NothingFoundNotificationLink">
                    &nbsp;
                    <a>Why do i sometimes receive an empty chart / no data?</a>
                </div>
            </div>
            
            <br/>
            
            <div id="cubeviz-Index-NothingFoundFurtherExplanation">
                
                <div style="float:left;">
                    <img src="<?php echo $this->cubevizImagesPath; ?>questionmark.png" class="cubeviz-icon-minimal" style="opacity:0.3;"/>
                </div>
                <div style="margin-left: 24px; margin-top:-3px;">
                    <span style="font-size:16px; font-weight:bold;">
                        Explanation
                    </span>
                    <p>
                        This behavior can have various reasons. On the one hand it is possible that there is no data available 
                        according to the selection. In order to reduce the load of the server we decided not to check the 
                        availability of data for every selection. 
                        <br/>
                        <br/>
                        On the other hand it is possible that a chart can not be 
                        produced if the user selects inapplicable combinations of options such as a logarithm scale in combination 
                        with percentage stacking. Trapping such cases is not yet fully implemented but will be done soon.
                        <br/>
                        <br/>
                        To solve such problems we suggest to change the selection and/or the selected chart options.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 
    Dialog box for questionmark in headline(cubeviz-Index-questionMarkHeadline) 
-->
<div id="cubeviz-index-headerDialogBox">
    
    <!-- Label -->
    <h2><?php echo $this->CubeViz_ModelInformation ['rdfs:label']; ?></h2>
    
    <!-- Short description -->
    <div style="font-size: 14px;"><?php echo $this->CubeViz_ModelInformation ['doap:shortdesc']; ?></div>
        
    <!-- Description -->
    <small><?php echo $this->CubeViz_ModelInformation ['dc:description']; ?></small>
    
    <br/>
    <br/>
    <div style="font-size: 14px;">Information:</div>
    
    <ul class="cubeviz-ul-basic">
        <!-- Creator -->
        <li>
            <img src="<?php echo $this->cubevizImagesPath; ?>person-pencil.png" class="cubeviz-icon-minimal" title="Creator"/>
            <?php echo $this->CubeViz_ModelInformation ['dc:creator']; ?>
        </li>
    
        <!-- Revision -->
        <li>
            <img src="<?php echo $this->cubevizImagesPath; ?>version2.png" class="cubeviz-icon-minimal" title="Revision"/>
            Revision: <?php echo $this->CubeViz_ModelInformation ['doap:revision']; ?>
        </li>
    
        <!-- Document -->
        <li>
            <img src="<?php echo $this->cubevizImagesPath; ?>document.png" class="cubeviz-icon-minimal" title="License"/>
            <?php echo $this->CubeViz_ModelInformation ['doap:license']; ?>
        </li>
    </ul>
</div>
